<html>
  <head>
    <style>
      body {
        background: #181818;
        font-family: Arial, sans-serif;
        text-align: center;
        margin: 0;
      }
      #gen-time {
        color: #ff9800;
        font-size: 2vw;
        margin-top: 2vh;
      }
      #content-genH {
        font-size: 12vw;
        color: #bfd3c9;
        font-weight: bold;
        margin: 4vh 0;
      }
      button {
        font-size: 3vw;
        background: #00e676;
        color: #181818;
        border: none;
        border-radius: 2vw;
        padding: 2vw 4vw;
        cursor: pointer;
      }
      button:hover {
        background: #1de9b6;
      }
    </style>
    <script>
        function generate(status) {

            var address = window.location.search;
            var parameterList = new URLSearchParams(address);
            var text = parameterList.get("text");

            if (status || !text) {
                const possibel_values = ['1', '2', '3', '4'];

                text = '';
                for (let i = 0; i < 3; i++) {
                    var randomIndex = Math.floor(Math.random() * (4 - i));
                    var first = possibel_values.splice(randomIndex, 1);

                    text += first + '.';
                }
                text = text.substring(0, 5);

                parameterList.set('text', text);

                window.history.pushState('generator', 'Kódfejtő genrátor', '/Boardgame/decrypto/generate.html?text=' + text);
            }
            
            document.getElementById('content-genH').innerHTML = text;
            
            // Show generation time above the text
            const now = new Date();
            const timeString = now.toLocaleTimeString('hu-HU', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false });
            document.getElementById('gen-time').innerText = 'Generálva: ' + timeString;
        }
    </script>
    <title>Kódfejtő genrátor</title>
  </head>
  <body onload="generate(false);">
    <div id="gen-time" style="text-align: center; font-size: 2vw; margin-top: 2vh;">Generálva: </div>
    <div id="content-genH" style="font-size: 15vw; text-align: center; height: 50vh; display: flex; align-items: center; justify-content: center;"></div>
    <div style="display: flex; justify-content: center; align-items: center; height: 20vh;">
      <button onclick="generate(true);" style="font-size: 3vw; padding: 2vw 4vw;">Új kód</button>
    </div>
  </body>
</html>
